{"version":3,"sources":["report.js"],"names":["$","url","reptype","spinner","hulla","hullabaloo","webComment","comment","getId","reportType","ajax","baseurl","type","dataType","data","repotype","success","val","fail","console","log","updateReport","uri","formUpdate","formData","FormData","x","serializeArray","each","i","field","append","name","value","commentData","CKEDITOR","instances","editor1","getData","webCommentData","attr","processData","contentType","beforeSend","html","response","auth","send","message","location","href","error","jqXHR","textStatus","errorThrown","token","JSON","parse","upload","action","maxConcurrent","maxSize","multiple","postData","on","e","file","status","image","image_path","image_name","autocomplete","source","request","q","term","results","map","key","label","id","gemid","minLength","select","event","ui","item","firstname","lastname","custid","spgroup","shapecut","color","click","this","show","text","hide","checkboxradio","icon","btnActions","updateRep","preventDefault","updatePrint","addReport","formAdd","modal","backdrop","keyboard","trigger","saveGemstone","formVariety","errorResponse","document","call"],"mappings":"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","file":"../report.js","sourcesContent":["$(function() {\r\n\r\n  /* Varibales */\r\n  var reptype = $('#option1, #option2, #option3');\r\n  var spinner = '<i class=\"fa fa-spinner fa-pulse fa-lg fa-fw d-block mx-auto text-white\"></i><span class=\"sr-only\">Loading...</span>';\r\n  var messageBox = null;\r\n  var url;\r\n  var hulla = new hullabaloo();\r\n  var webComment = $('#webComment');\r\n  var comment = $('#comment');\r\n\r\n  /* Functions */\r\n\r\n  //\r\n  var message = function (msg, type) {\r\n\t\tvar box;\r\n\t\tswitch (type) {\r\n\t\t\tcase 'error':\r\n\t\t\t\treturn '<div class=\"notify-box\">' +\r\n\t\t\t\t\t'<noscript>Sorry, your browser does not support JavaScript!</noscript>' +\r\n\t\t\t\t\t'<div class=\"error d-flex align-items-center\">' +\r\n\t\t\t\t\t'<img src=\"' + baseurl + 'assets/images/error.png\" alt=\"Error-Image\" class=\"img-fluid\">' +\r\n\t\t\t\t\t'<div>' + msg + '<div>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'</div>';\r\n\t\t\tcase 'success':\r\n\t\t\t\treturn '<div class=\"notify-box\">' +\r\n\t\t\t\t\t'<noscript>Sorry, your browser does not support JavaScript!</noscript>' +\r\n\t\t\t\t\t'<div class=\"success d-flex align-items-center\">' +\r\n\t\t\t\t\t'<img src=\"' + baseurl + 'assets/images/success.png\" alt=\"Success-Image\" class=\"img-fluid\">' +\r\n\t\t\t\t\t'<p>' + msg + '</p>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'</div>';\r\n\t\t\tcase 'info':\r\n\t\t\t\treturn '<div class=\"notify-box\">' +\r\n\t\t\t\t\t'<noscript>Sorry, your browser does not support JavaScript!</noscript>' +\r\n\t\t\t\t\t'<div class=\"info d-flex align-items-center\">' +\r\n\t\t\t\t\t'<img src=\"' + baseurl + 'assets/images/info.png\" alt=\"Success-Image\" class=\"img-fluid\">' +\r\n\t\t\t\t\t'<p>' + msg + '</p>' +\r\n\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t'</div>';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'Unable to display Message';\r\n\t\t}\r\n  }\r\n  \r\n  // Fetch ID Based on user select\r\n  var getId = function(reportType) {\r\n    $.ajax({\r\n      url: baseurl + 'admin/report/handler/id',\r\n      type: 'GET',\r\n      dataType: 'html',\r\n      data: {\r\n        repotype: reportType\r\n      },\r\n      success: function(data) {\r\n        $('#repid').val(data);\r\n      },\r\n      fail: function() {\r\n        console.log('Error');\r\n      }\r\n    });\r\n  }\r\n\r\n  // Function to populate customer on user input\r\n  var populateCustomer = function() {\r\n    $(\"#customer\").autocomplete({\r\n      source: function(request, response) {\r\n        $.ajax({\r\n          url: baseurl + 'admin/customers/customer/append-customer',\r\n          dataType: \"json\",\r\n          data: {\r\n            q: request.term\r\n          }\r\n        }).success(function(data) {\r\n          var results = $.map(data, function(value, key) {\r\n            return {\r\n              label: value.firstname + ' ' + value.lastname,\r\n              value: value.firstname + ' ' + value.lastname,\r\n              id: value.custid\r\n            };\r\n          });\r\n          response(results);\r\n        });\r\n      },\r\n      minLength: 1,\r\n      select: function(event, ui) {\r\n        $('#customerid').val(ui.item.id);\r\n      }\r\n    });\r\n  };\r\n\r\n  // Function to populate gemstone field on user input\r\n  var populateGemstone = function() {\r\n    $(\"#newGem\").autocomplete({\r\n      source: function(request, response) {\r\n        $.ajax({\r\n          url: baseurl + 'admin/report/gemstone/populate',\r\n          dataType: \"json\",\r\n          data: {\r\n            q: request.term\r\n          }\r\n        }).success(function(data) {\r\n          var results = $.map(data, function(value, key) {\r\n            return {\r\n              label: value.name,\r\n              value: value.name,\r\n              id: value.gemid\r\n            };\r\n          });\r\n          response(results);\r\n        });\r\n      },\r\n      minLength: 1,\r\n      select: function(event, ui) {\r\n        $('#gemid').val(ui.item.id);\r\n        $('input[name=variety]').val(ui.item.value);\r\n      }\r\n    });\r\n  };\r\n\r\n  // Function to populate species/group field on user input\r\n  var populateSpeciesGroup = function() {\r\n    $(\"#sgField\").autocomplete({\r\n      source: function(request, response) {\r\n        $.ajax({\r\n          url: baseurl + 'admin/report/handler/populate-spgroup',\r\n          dataType: \"json\",\r\n          data: {\r\n            q: request.term\r\n          }\r\n        }).success(function(data) {\r\n          var results = $.map(data, function(value, key) {\r\n            return {\r\n              label: value.spgroup,\r\n              value: value.spgroup\r\n            };\r\n          });\r\n          response(results);\r\n        });\r\n      },\r\n      minLength: 2\r\n    });\r\n  };\r\n\r\n  // Function to populate shape-cut field on user input\r\n  var populateShapeCut = function() {\r\n    $(\"#shapecutField\").autocomplete({\r\n      source: function(request, response) {\r\n        $.ajax({\r\n          url: baseurl + 'admin/report/handler/populate-shapecut',\r\n          dataType: \"json\",\r\n          data: {\r\n            q: request.term\r\n          }\r\n        }).success(function(data) {\r\n          var results = $.map(data, function(value, key) {\r\n            return {\r\n              label: value.shapecut,\r\n              value: value.shapecut\r\n            };\r\n          });\r\n          response(results);\r\n        });\r\n      },\r\n      minLength: 2\r\n    });\r\n  };\r\n\r\n  // Function to populate color field on user input\r\n  var populateColor = function() {\r\n    $(\"#colorField\").autocomplete({\r\n      source: function(request, response) {\r\n        $.ajax({\r\n          url: baseurl + 'admin/report/handler/populate-color',\r\n          dataType: \"json\",\r\n          data: {\r\n            q: request.term\r\n          }\r\n        }).success(function(data) {\r\n          var results = $.map(data, function(value, key) {\r\n            return {\r\n              label: value.color,\r\n              value: value.color\r\n            };\r\n          });\r\n          response(results);\r\n        });\r\n      },\r\n      minLength: 2\r\n    });\r\n  };\r\n\r\n  // Function to Add a Report\r\n  var addReport = function() {\r\n\r\n    var formAdd = $('#formAddReport');\r\n    var formData = new FormData();\r\n\r\n    var x = formAdd.serializeArray();\r\n    $.each(x, function (i, field) {\r\n      formData.append(field.name, field.value);\r\n    });\r\n\r\n    var commentData = CKEDITOR.instances.editor1.getData();\r\n    formData.append(\"comment\", commentData);\r\n\r\n    var webCommentData = $('textarea#webcomment').val();\r\n\r\n    if(webCommentData === '') {\r\n      formData.append(\"webcomment\", '');\r\n    }\r\n    else {\r\n      formData.append(\"webcomment\", webCommentData);\r\n    }\r\n    \r\n\r\n    $.ajax({\r\n      url: formAdd.attr(\"action\"),\r\n      type: formAdd.attr(\"method\"),\r\n      dataType: 'JSON',\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      beforeSend: function() {\r\n        $('.add-report').html(spinner);\r\n      },\r\n      success: function(response) {\r\n        $('.add-report').html('Add Report');\r\n\r\n        if (response.auth) {\r\n          $('#successModal').modal({backdrop: 'static', keyboard: false });\r\n          $('#qrCodeBtn').attr('href', response.url);\r\n          formData = null;\r\n          formAdd.trigger('reset');\r\n          return true;\r\n\r\n        } else {\r\n          hulla.send(response.message, 'danger');\r\n        }\r\n\r\n      },\r\n      error: function (jqXHR, textStatus, errorThrown) {\r\n        hulla.send(errorThrown, 'danger');\r\n      }\r\n    });\r\n\r\n  };\r\n\r\n  // Function to update specific report\r\n  var updateReport = function (uri) {\r\n\r\n    var formUpdate = $('#updateReportForm');\r\n    var formData = new FormData();\r\n\r\n    var x = formUpdate.serializeArray();\r\n    $.each(x, function (i, field) {\r\n      formData.append(field.name, field.value);\r\n    });\r\n\r\n    var commentData = CKEDITOR.instances.editor1.getData();\r\n    formData.append(\"comment\", commentData);\r\n\r\n    var webCommentData = $('textarea#webcomment').val();\r\n\r\n    if(webCommentData === '') {\r\n      formData.append(\"webcomment\", '');\r\n    }\r\n    else {\r\n      formData.append(\"webcomment\", webCommentData);\r\n    }\r\n\r\n    $.ajax({\r\n      url: formUpdate.attr(\"action\"),\r\n      type: formUpdate.attr(\"method\"),\r\n      dataType: 'JSON',\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      beforeSend: function() {\r\n        $('#updateReport').html(spinner);\r\n      },\r\n      success: function(response) {\r\n        $('#updateReport').html(\"Update Report\");\r\n        if (response.auth) {\r\n          hulla.send(response.message, 'success');\r\n          formData = null;\r\n          location.href = baseurl + uri;\r\n          return true;\r\n\r\n        } else {\r\n          hulla.send(response.message, 'danger');\r\n        }\r\n\r\n      },\r\n      error: function (jqXHR, textStatus, errorThrown) {\r\n        hulla.send(errorThrown, 'danger');\r\n      }\r\n    });\r\n  };\r\n\r\n  // Function to add new gemstone\r\n  var addGemstone = function () {\r\n    \r\n    var formVariety = $('#formVariety');\r\n    var formData = new FormData();\r\n\r\n    var x = formVariety.serializeArray();\r\n    $.each(x, function (i, field) {\r\n      formData.append(field.name, field.value);\r\n    });\r\n\r\n    $.ajax({\r\n      url: formVariety.attr('action'),\r\n      type: formVariety.attr('method'),\r\n      dataType: 'JSON',\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n      beforeSend: function() {\r\n        $('#saveGem').html(spinner);\r\n      },\r\n      success: function(response) {\r\n        $('#saveGem').html('Save Vareity');\r\n\r\n        if (response.auth) {\r\n          hulla.send(response.message, 'success');\r\n          formData = null;\r\n          formVariety.trigger('reset');\r\n          $('#gemModal').modal('hide');\r\n          return true;\r\n        }\r\n        else {\r\n          hulla.send(response.message, 'danger');\r\n        }\r\n      },\r\n      fail: function(errorResponse) {\r\n        hulla.send(errorResponse, 'success');\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n  /* Binding */\r\n  \r\n  // Image upload\r\n  var token = JSON.parse('{\"csrf_test_name\": \"'+$('input[name=csrf_test_name]').val()+'\" } ') ;\r\n  $(\".target\").upload({\r\n    action: baseurl + \"admin/report/image/index\",\r\n    dataType: 'JSON',\r\n    maxConcurrent: 0,\r\n    maxSize: 2097152,\r\n    multiple: false,\r\n    postData: token\r\n  }).on(\"filecomplete.upload\", onFileComplete)\r\n    .on(\"fileerror.upload\", onFileError)\r\n    .on(\"start.upload\", onFileStart);\r\n\r\n  function onFileComplete(e, file, response) {\r\n    if(response.status) {\r\n      var image = baseurl + 'images/gem/' +response.image_path + response.image_name;\r\n      $('#imagegem').attr('src', image);\r\n      $('#imgPath').val(response.image_path);\r\n      $('#imgName').val(response.image_name);\r\n    }\r\n    else {\r\n      hulla.send(response.message, 'danger');\r\n    }\r\n    \r\n  }\r\n\r\n  function onFileError(e, file, error) {\r\n    hulla.send(error, 'danger');\r\n  }\r\n\r\n  function onFileStart(e, file) {\r\n    console.log(\"File Start\");\r\n  }\r\n\r\n  populateGemstone();\r\n\r\n  populateCustomer();\r\n\r\n  populateSpeciesGroup();\r\n\r\n  populateShapeCut();\r\n\r\n  populateColor();\r\n\r\n  // Report type selection\r\n  reptype.click(function () {\r\n    if (this.id == 'option1') {\r\n      $('#repotype').val($(this).data('value'));\r\n      webComment.show();\r\n      comment.text('Print Comment');\r\n      getId($(this).data('value'));\r\n    } else if (this.id == 'option2') {\r\n      $('#repotype').val($(this).data('value'));\r\n      getId($(this).data('value'));\r\n      webComment.hide();\r\n      comment.text('Comment');\r\n    } else if (this.id == 'option3') {\r\n      $('#repotype').val($(this).data('value'));\r\n      getId($(this).data('value'));\r\n      webComment.hide();\r\n      comment.text('Comment');\r\n    }\r\n  });\r\n\r\n  $(\"input[name=radio-1]\").checkboxradio({\r\n    icon: false\r\n  });\r\n\r\n  var btnActions = {\r\n    updateRep: function (e) {\r\n      e.preventDefault();\r\n      url = 'admin/report/published';\r\n      updateReport(url);\r\n    },\r\n    updatePrint: function (e) {\r\n      e.preventDefault();\r\n      url = 'admin/report/print/card/'+$(this).data('type')+'/'+$(this).data('id');\r\n      updateReport(url);\r\n    },\r\n    addReport: function (e) {\r\n      e.preventDefault();\r\n      addReport(this);\r\n    },\r\n    saveGemstone: function (e) {\r\n      addGemstone();\r\n    }\r\n\r\n  };\r\n\r\n  $(document).on(\"click\", 'a[data-action]', function (event) {\r\n    var link = $(this);\r\n    var action = link.data(\"action\");\r\n\r\n    if (typeof btnActions[action] === \"function\") {\r\n      btnActions[action].call(this, event);\r\n    }\r\n  });\r\n\r\n}); // End of document ready\r\n"]}