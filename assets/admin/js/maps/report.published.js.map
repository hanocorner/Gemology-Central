{"version":3,"sources":["report.published.js"],"names":["$","rows","find","text","spinner","populatePublishedTable","hullabaloo","page","ajax","url","baseurl","type","dataType","data","beforeSend","html","success","fail","jqXHR","textStatus","errorThrown","console","log","btnActions","pagination","e","preventDefault","this","reload","prop","val","document","on","event","action","call"],"mappings":"AAAAA,EAAE,WAGE,IAAIC,EAAOD,EAAE,aAAaE,KAAK,aAAaC,OACxCC,EAAU,uHAQZC,GAPYL,EAAE,gCACJ,IAAIM,WAMW,SAAUC,EAAMN,GAE3CD,EAAEQ,KAAK,CACLC,IAAKC,QAAU,2CAA6CH,EAAO,IACnEI,KAAM,MACNC,SAAU,OACVC,KAAM,CACJN,KAAMA,EACNN,KAAMA,GAERa,WAAY,WACVd,EAAE,kBAAkBe,KAAKX,IAE3BY,QAAS,SAAUH,GACjBb,EAAE,kBAAkBe,KAAK,IACzBf,EAAE,kBAAkBe,KAAKF,IAE3BI,KAAM,SAAUC,EAAOC,EAAYC,GACjCC,QAAQC,IAAIF,QAgChBf,EAAuB,EAAGJ,GAE1B,IAAIsB,EAAa,CACbC,WAAY,SAAUC,GACpBA,EAAEC,iBACF,IAAInB,EAAOP,EAAE2B,MAAMd,KAAK,sBACxBR,EAAuBE,EAAMN,IAE/B2B,OAAQ,SAAUH,GAChBA,EAAEC,iBACF1B,EAAE,aAAa6B,KAAK,gBAAiB,GACrC7B,EAAE,aAAa8B,IAAI,IACnBzB,EAAuB,EAAGJ,KAK9BD,EAAE+B,UAAUC,GAAG,QAAS,iBAAkB,SAAUC,GAClD,IACIC,EADOlC,EAAE2B,MACKd,KAAK,UAEW,mBAAvBU,EAAWW,IACpBX,EAAWW,GAAQC,KAAKR,KAAMM","file":"../report.published.js","sourcesContent":["$(function () {\r\n    \r\n    /** Variables  **/\r\n    var rows = $('#rowCount').find(\":selected\").text();\r\n    var spinner = '<i class=\"fa fa-spinner fa-pulse fa-lg fa-fw d-block mx-auto text-white\"></i><span class=\"sr-only\">Loading...</span>';\r\n    var reptype = $('#option1, #option2, #option3');\r\n    var hulla = new hullabaloo();\r\n\r\n\r\n    /** Functions **/\r\n\r\n    // Populate all reports\r\n  var populatePublishedTable = function (page, rows) {\r\n\r\n    $.ajax({\r\n      url: baseurl + 'admin/report/handler/populate-published/' + page + '/',\r\n      type: 'GET',\r\n      dataType: 'html',\r\n      data: {\r\n        page: page,\r\n        rows: rows\r\n      },\r\n      beforeSend: function () {\r\n        $('#publishedData').html(spinner);\r\n      },\r\n      success: function (data) {\r\n        $('#publishedData').html('');\r\n        $('#publishedData').html(data);\r\n      },\r\n      fail: function (jqXHR, textStatus, errorThrown) {\r\n        console.log(errorThrown);\r\n      }\r\n    });\r\n  };\r\n\r\n  // Search Report\r\n\tvar searchPublished = function (key) {\r\n\r\n\t\t$.ajax({\r\n\t\t\turl: baseurl + 'admin/report/handler/populate-published',\r\n\t\t\ttype: 'GET',\r\n\t\t\tdataType: 'html',\r\n\t\t\tdata: {\r\n\t\t\t\tsearch: true,\r\n\t\t\t\tid: key\r\n\t\t\t},\r\n\t\t\tbeforeSend: function () {\r\n\t\t\t\t$('#draftTable').html(spinner);\r\n\t\t\t},\r\n\t\t\tsuccess: function (data) {\r\n\t\t\t\t$('#draftTable').html('');\r\n        $('#draftTable').html(data);\r\n\t\t\t},\r\n\t\t\tfail: function (jqXHR, textStatus, errorThrown) {\r\n\t\t\t\tconsole.log(errorThrown);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n    /** Binding **/\r\n\r\n    // Populating draft table function call\r\n    populatePublishedTable(1, rows);\r\n\r\n    var btnActions = {\r\n        pagination: function (e) {\r\n          e.preventDefault();\r\n          var page = $(this).data(\"ci-pagination-page\");\r\n          populatePublishedTable(page, rows);\r\n        },\r\n        reload: function (e) {\r\n          e.preventDefault();\r\n          $('#rowCount').prop('selectedIndex', 0);\r\n          $(\"#searchId\").val('');\r\n          populatePublishedTable(1, rows);\r\n        },\r\n    \r\n      };\r\n    \r\n      $(document).on(\"click\", 'a[data-action]', function (event) {\r\n        var link = $(this);\r\n        var action = link.data(\"action\");\r\n    \r\n        if (typeof btnActions[action] === \"function\") {\r\n          btnActions[action].call(this, event);\r\n        }\r\n      });\r\n\r\n});"]}