{"version":3,"sources":["report.published.js"],"names":["$","rows","find","text","spinner","formAdvanceSearch","hullabaloo","populatePublishedTable","page","ajax","url","baseurl","type","dataType","data","beforeSend","html","success","fail","jqXHR","textStatus","errorThrown","console","log","on","this","value","btnActions","pagination","e","preventDefault","reload","prop","val","advanceSearch","formData","x","FormData","serializeArray","each","i","field","append","name","attr","processData","contentType","resetAdSearch","trigger","document","event","action","call"],"mappings":"AAAAA,EAAE,WAGE,IAAIC,EAAOD,EAAE,aAAaE,KAAK,aAAaC,OACxCC,EAAU,uHAGVC,GAFUL,EAAE,gCACJ,IAAIM,WACQN,EAAE,uBAMxBO,EAAyB,SAAUC,EAAMP,GAE3CD,EAAES,KAAK,CACLC,IAAKC,QAAU,2CAA6CH,EAAO,IACnEI,KAAM,MACNC,SAAU,OACVC,KAAM,CACJN,KAAMA,EACNP,KAAMA,GAERc,WAAY,WACVf,EAAE,kBAAkBgB,KAAKZ,IAE3Ba,QAAS,SAAUH,GACjBd,EAAE,kBAAkBgB,KAAK,IACzBhB,EAAE,kBAAkBgB,KAAKF,IAE3BI,KAAM,SAAUC,EAAOC,EAAYC,GACjCC,QAAQC,IAAIF,OAwChBd,EAAuB,EAAGN,GAE1BD,EAAE,aAAawB,GAAG,SAAU,WAC1BjB,EAAuB,EAAGkB,KAAKC,SAGjC,IAAIC,EAAa,CACbC,WAAY,SAAUC,GACpBA,EAAEC,iBACF,IAAItB,EAAOR,EAAEyB,MAAMX,KAAK,sBACxBP,EAAuBC,EAAMP,IAE/B8B,OAAQ,SAAUF,GAChBA,EAAEC,iBACF9B,EAAE,aAAagC,KAAK,gBAAiB,GACrChC,EAAE,aAAaiC,IAAI,IACnB1B,EAAuB,EAAGN,IAE5BiC,cAAe,SAAUL,GApDV,IAEfM,EAEAC,EAiDEP,EAAEC,iBAnDJK,EAAW,IAAIE,SAEfD,EAAI/B,EAAkBiC,iBAC1BtC,EAAEuC,KAAKH,EAAG,SAAUI,EAAGC,GACrBN,EAASO,OAAOD,EAAME,KAAMF,EAAMf,SAGpCS,EAASO,OAAO,UAAU,GAE5B1C,EAAES,KAAK,CACHC,IAAKL,EAAkBuC,KAAK,UAC5BhC,KAAM,OACNC,SAAU,OACVC,KAAMqB,EACNU,aAAa,EACbC,aAAa,EAChB/B,WAAY,WACXf,EAAE,kBAAkBgB,KAAKZ,IAE1Ba,QAAS,SAAUH,GAClBd,EAAE,kBAAkBgB,KAAK,IACrBhB,EAAE,kBAAkBgB,KAAKF,IAE9BI,KAAM,SAAUC,EAAOC,EAAYC,GAClCC,QAAQC,IAAIF,OA8BR0B,cAAc,SAAUlB,GACtBA,EAAEC,iBACFzB,EAAkB2C,QAAQ,SAC1BzC,EAAuB,EAAGN,KAK9BD,EAAEiD,UAAUzB,GAAG,QAAS,iBAAkB,SAAU0B,GAClD,IACIC,EADOnD,EAAEyB,MACKX,KAAK,UAEW,mBAAvBa,EAAWwB,IACpBxB,EAAWwB,GAAQC,KAAK3B,KAAMyB","file":"../report.published.js","sourcesContent":["$(function () {\r\n    \r\n    /** Variables  **/\r\n    var rows = $('#rowCount').find(\":selected\").text();\r\n    var spinner = '<i class=\"fa fa-spinner fa-pulse fa-lg fa-fw d-block mx-auto text-white\"></i><span class=\"sr-only\">Loading...</span>';\r\n    var reptype = $('#option1, #option2, #option3');\r\n    var hulla = new hullabaloo();\r\n    var formAdvanceSearch = $('#formAdvanceSearch');\r\n\r\n\r\n    /** Functions **/\r\n\r\n    // Populate all reports\r\n  var populatePublishedTable = function (page, rows) {\r\n\r\n    $.ajax({\r\n      url: baseurl + 'admin/report/handler/populate-published/' + page + '/',\r\n      type: 'GET',\r\n      dataType: 'html',\r\n      data: {\r\n        page: page,\r\n        rows: rows\r\n      },\r\n      beforeSend: function () {\r\n        $('#publishedData').html(spinner);\r\n      },\r\n      success: function (data) {\r\n        $('#publishedData').html('');\r\n        $('#publishedData').html(data);\r\n      },\r\n      fail: function (jqXHR, textStatus, errorThrown) {\r\n        console.log(errorThrown);\r\n      }\r\n    });\r\n  };\r\n\r\n  // Search Report\r\n\tvar doAdvanceSearch = function () {\r\n\r\n    var formData = new FormData();\r\n\r\n    var x = formAdvanceSearch.serializeArray();\r\n    $.each(x, function (i, field) {\r\n      formData.append(field.name, field.value);\r\n    });\r\n\r\n    formData.append(\"search\", true);\r\n\r\n\t\t$.ajax({\r\n      url: formAdvanceSearch.attr(\"action\"),\r\n      type: 'POST',\r\n      dataType: 'html',\r\n      data: formData,\r\n      processData: false,\r\n      contentType: false,\r\n\t\t\tbeforeSend: function () {\r\n\t\t\t\t$('#publishedData').html(spinner);\r\n\t\t\t},\r\n\t\t\tsuccess: function (data) {\r\n\t\t\t\t$('#publishedData').html('');\r\n        $('#publishedData').html(data);\r\n\t\t\t},\r\n\t\t\tfail: function (jqXHR, textStatus, errorThrown) {\r\n\t\t\t\tconsole.log(errorThrown);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n    /** Binding **/\r\n\r\n    // Populating draft table function call\r\n    populatePublishedTable(1, rows);\r\n\r\n    $('#rowCount').on('change', function () {\r\n      populatePublishedTable(1, this.value);\r\n    });\r\n\r\n    var btnActions = {\r\n        pagination: function (e) {\r\n          e.preventDefault();\r\n          var page = $(this).data(\"ci-pagination-page\");\r\n          populatePublishedTable(page, rows);\r\n        },\r\n        reload: function (e) {\r\n          e.preventDefault();\r\n          $('#rowCount').prop('selectedIndex', 0);\r\n          $(\"#searchId\").val('');\r\n          populatePublishedTable(1, rows);\r\n        },\r\n        advanceSearch: function (e) {\r\n          e.preventDefault();\r\n          doAdvanceSearch();\r\n        },\r\n        resetAdSearch:function (e) {\r\n          e.preventDefault();\r\n          formAdvanceSearch.trigger('reset');\r\n          populatePublishedTable(1, rows);\r\n        }\r\n    \r\n      };\r\n    \r\n      $(document).on(\"click\", 'a[data-action]', function (event) {\r\n        var link = $(this);\r\n        var action = link.data(\"action\");\r\n    \r\n        if (typeof btnActions[action] === \"function\") {\r\n          btnActions[action].call(this, event);\r\n        }\r\n      });\r\n\r\n});"]}