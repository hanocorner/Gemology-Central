!function(e,a,u){"use strict";var l,d=a("#addPost"),c=a("#editPost"),m=a("#saveDraft"),p=a("#savePublish"),f=a("#updateDraft"),g=a("#updatePublish"),b=new hullabaloo,h=new Quill("#editor",{theme:"snow"});(new(function(o){var a=function(e){e.preventDefault(),(l=new FormData(u.getElementById("addPost"))).append("body",h.root.innerHTML),l.append("status",o(this).data("status")),r(l,d.attr("action")).done(function(e){e.auth?(b.send(e.message,"success"),location.href=baseurl+"admin/blog/",l=null):b.send(e.message,"danger")}).fail(function(e,a,t){console.log(t)})},t=function(e){e.preventDefault(),(l=new FormData(u.getElementById("editPost"))).append("body",h.root.innerHTML),l.append("status",o(this).data("status")),r(l,c.attr("action")).done(function(e){e.auth?(b.send(e.message,"success"),location.href=baseurl+"admin/blog",l=null):b.send(e.message,"danger")}).fail(function(e,a,t){b.send(t,"danger")})};function n(e,a,t){if(t.status){var n=baseurl+"images/blog/"+t.image_path+t.image_name;o("#postImage").attr("src",n),o("#imgPath").val(t.image_path),o("#imgName").val(t.image_name)}else b.send(t.message,"danger")}function s(e,a,t){b.send(t,"danger")}function i(e,a){console.log("File Start")}var r=function(e,a){return o.ajax({url:a,type:"POST",dataType:"JSON",data:e,processData:!1,contentType:!1})};return function(){return{init:function(){!function(){m.on("click",a),p.on("click",a),f.on("click",t),g.on("click",t);var e=JSON.parse('{"csrf_test_name": "'+o("input[name=csrf_test_name]").val()+'" } ');o(".target").upload({action:baseurl+"admin/blog/image/index",dataType:"JSON",maxConcurrent:0,maxSize:2097152,multiple:!1,postData:e}).on("filecomplete.upload",n).on("fileerror.upload",s).on("start.upload",i)}()}}}}(jQuery))).init()}(window,jQuery,document);
//# sourceMappingURL=maps/blog.js.map
